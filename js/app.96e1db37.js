(function(t){function e(e){for(var n,s,i=e[0],l=e[1],u=e[2],d=0,f=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&f.push(c[s][0]),c[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);o&&o(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==c[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},c={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/flip-introduce/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var o=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0257":function(t,e,a){},"10f2":function(t,e,a){},"29c4":function(t,e,a){},"45be":function(t,e,a){"use strict";a("29c4")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),c=Object(n["f"])("span",null,"FLIP",-1),r=Object(n["f"])("button",null,"演示",-1),s=Object(n["f"])("button",null,"示例",-1),i=Object(n["f"])("button",null,"步骤",-1);function l(t,e,a,l,u,o){var d=Object(n["w"])("router-link"),f=Object(n["w"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["f"])("header",null,[c,Object(n["f"])(d,{to:"/"},{default:Object(n["C"])((function(){return[r]})),_:1}),Object(n["f"])(d,{to:"/panel"},{default:Object(n["C"])((function(){return[s]})),_:1}),Object(n["f"])(d,{to:"/step"},{default:Object(n["C"])((function(){return[i]})),_:1})]),Object(n["f"])("main",null,[Object(n["f"])(f)])],64)}var u={name:"App",setup:function(){var t=Object(n["u"])("FLIP_LIST"),e=function(e){t.value=e};return{page:t,handleChangePage:e}}};a("b9f0");u.render=l;var o=u,d=a("6c02"),f=(a("b0c0"),Object(n["D"])("data-v-2fad422a"));Object(n["s"])("data-v-2fad422a");var p={class:"list"};Object(n["q"])();var b=f((function(t,e,a,c,r,s){return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["f"])("button",{onClick:e[1]||(e[1]=function(){return c.handleChange&&c.handleChange.apply(c,arguments)})},"切换"),Object(n["f"])("div",p,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(t.list,(function(t,e){var a=t.name;return Object(n["p"])(),Object(n["d"])("div",{class:"list__item",ref:function(t){return c.refs[e]=t},key:a,"data-key":a},[Object(n["f"])("p",null,Object(n["y"])(a),1)],8,["data-key"])})),128))])],64)})),v={name:"FLipList",props:{msg:String},setup(){const t=Object(n["t"])({list:[{name:"A"},{name:"B"},{name:"C"}]}),e=Object(n["t"])([]);let a=Object(n["t"])([]),c=Object(n["t"])([]);const r=()=>{a=e.reduce((t,e)=>{const a=e.getBoundingClientRect(),n=e.dataset.key;return t.push({key:n,rect:a}),t},[]);const r=[...t.list].map(t=>({item:t,random:Math.random()})).sort((t,e)=>t.random-e.random).map(({item:t})=>({...t}));Object.assign(t,{list:r}),Object(n["k"])(()=>{c=e.reduce((t,e)=>{const a=e.getBoundingClientRect(),n=e.dataset.key;return t.push({key:n,rect:a}),t},[]);for(const t of e){const e=t.dataset.key,{rect:{x:n,y:r}}=a.find(t=>t.key===e),{rect:{x:s,y:i}}=c.find(t=>t.key===e),l=s-n,u=i-r;t.animate([{transform:"translate(0, 0)"},{transform:`translate(${-l}px, ${-u}px)`}],{duration:0,iterations:1,fill:"forwards"})}for(const t of e)t.animate([{transform:"translate(0)"}],{duration:1225,easing:"cubic-bezier(0.4, 0, 0.2, 1)",iterations:1,fill:"forwards"})})};return{refs:e,...Object(n["z"])(t),handleChange:r}}};a("45be");v.render=b,v.__scopeId="data-v-2fad422a";var O=v,j=Object(n["D"])("data-v-789e82cc");Object(n["s"])("data-v-789e82cc");var _={class:"panel"};Object(n["q"])();var m=j((function(t,e,a,c,r,s){return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["f"])("button",{onClick:e[1]||(e[1]=function(){return c.handleChange&&c.handleChange.apply(c,arguments)})},"切换"),Object(n["f"])("div",_,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(t.list,(function(t,e){var a=t.name,r=t.key,s=t.width,i=t.color;return Object(n["p"])(),Object(n["d"])("div",{class:"panel__item",ref:function(t){return c.refs[e]=t},key:r,"data-key":r,style:{width:"".concat(s,"px"),background:"".concat(i)}},[Object(n["f"])("p",null,Object(n["y"])(a),1)],12,["data-key"])})),128))])],64)})),h=(a("99af"),a("cb29"),a("7db0"),a("d81d"),a("13d5"),a("b85c")),y=a("5530"),g=a("2909"),k={name:"FLipPanel",props:{msg:String},setup:function(){var t=Object(n["t"])({list:[]});t.list=new Array(16).fill(null).map((function(t,e){return{name:e+1,key:e,width:60+10*e,color:"hsla(0, 0%, 0%, ".concat(.045*(e+1)+.1,")")}}));var e=Object(n["t"])([]),a=Object(n["t"])([]),c=Object(n["t"])([]),r=function(){a=e.reduce((function(t,e){var a=e.getBoundingClientRect(),n=e.dataset.key;return t.push({key:n,rect:a}),t}),[]);var r=Object(g["a"])(t.list).map((function(t){return{item:t,random:Math.random()}})).sort((function(t,e){return t.random-e.random})).map((function(t){var e=t.item;return Object(y["a"])({},e)}));Object.assign(t,{list:r}),Object(n["k"])((function(){c=e.reduce((function(t,e){var a=e.getBoundingClientRect(),n=e.dataset.key;return t.push({key:n,rect:a}),t}),[]);var t,n=Object(h["a"])(e);try{var r=function(){var e=t.value,n=e.dataset.key,r=a.find((function(t){return t.key===n})),s=r.rect,i=s.x,l=s.y,u=c.find((function(t){return t.key===n})),o=u.rect,d=o.x,f=o.y,p=d-i,b=f-l;e.animate([{transform:"translate(0, 0)"},{transform:"translate(".concat(-p,"px, ").concat(-b,"px)")}],{duration:0,iterations:1,fill:"forwards"})};for(n.s();!(t=n.n()).done;)r()}catch(u){n.e(u)}finally{n.f()}var s,i=Object(h["a"])(e);try{for(i.s();!(s=i.n()).done;){var l=s.value;l.animate([{transform:"translate(0)"}],{duration:1225,easing:"cubic-bezier(0.4, 0, 0.2, 1)",iterations:1,fill:"forwards"})}}catch(u){i.e(u)}finally{i.f()}}))};return Object(y["a"])(Object(y["a"])({refs:e},Object(n["z"])(t)),{},{handleChange:r})}};a("9b74");k.render=m,k.__scopeId="data-v-789e82cc";var C=k,x=Object(n["D"])("data-v-6430ca13");Object(n["s"])("data-v-6430ca13");var w={class:"controls"},P={class:"wrap"},A={class:"steps",ref:"step"},B=Object(n["e"])('<div class="steps__panel" data-v-6430ca13><h1 data-v-6430ca13>First</h1><div class="steps__left" data-v-6430ca13><div class="steps__item" data-v-6430ca13>A (x: 0, y: 0)</div><div class="steps__item" data-v-6430ca13>B</div><div class="steps__item" data-v-6430ca13>C</div></div><div class="steps__right" data-v-6430ca13><h3 data-v-6430ca13>初始状态</h3><p data-v-6430ca13>使用 <code data-v-6430ca13>getBoundingClientRect</code>记录每个元素初始位置信息</p><h3 data-v-6430ca13>元素 A</h3><p data-v-6430ca13>位置信息: x: 0, y: 0</p></div></div><div class="steps__panel" data-v-6430ca13><h1 data-v-6430ca13>Last</h1><div class="steps__left" data-v-6430ca13><div class="steps__item" data-v-6430ca13>C</div><div class="steps__item" data-v-6430ca13>A (x: 0, y: 200)</div><div class="steps__item" data-v-6430ca13>B</div></div><div class="steps__right" data-v-6430ca13><h3 data-v-6430ca13>结束状态</h3><p data-v-6430ca13>更新元素数组对象，Vue响应数据变化，更新DOM位置</p><span data-v-6430ca13>再次使用 <code data-v-6430ca13>getBoundingClientRect</code>记录每个元素结束位置信息</span><h3 data-v-6430ca13>元素 A</h3><p data-v-6430ca13>位置信息: x: 0, y: 200</p></div></div>',2),S={class:"steps__panel"},M=Object(n["f"])("h1",null,"Invert",-1),z={class:"steps__left"},I={class:"steps__item steps__item--active",ref:"invert"},L=Object(n["f"])("div",{class:"steps__item steps__item--inactive"},"C",-1),F=Object(n["f"])("div",{class:"steps__item steps__item--inactive"},"A",-1),R=Object(n["f"])("div",{class:"steps__item steps__item--inactive"},"B",-1),D=Object(n["f"])("div",{class:"steps__right"},[Object(n["f"])("h3",null,"反转"),Object(n["f"])("p",null,"通过初始状态与结束状态记录下对位置信息，计算出由结束位置平移至初始位置数据"),Object(n["f"])("h3",null,"元素 A：结束 -> 开始"),Object(n["f"])("p",null,"从交互结束到感知到响应大概需要 100ms 的生理反应时间"),Object(n["f"])("p",null,"如果在这100ms内做一些行为无法感知到的"),Object(n["f"])("p",null,"使用 CSS3 动画瞬时讲DOM元素由结束位置平移至初始位置"),Object(n["f"])("p",null,"最终的表相则是看起来元素并没有发生位置变化"),Object(n["f"])("p",null,"transition: all 0"),Object(n["f"])("p",null,"transform: translate(0, (0 - 200)px)")],-1),Y={class:"steps__panel"},q=Object(n["f"])("h1",null,"Play",-1),N={class:"steps__left"},T={class:"steps__item steps__item--active",ref:"play"},J=Object(n["f"])("div",{class:"steps__item steps__item--inactive"},"A",-1),$=Object(n["f"])("div",{class:"steps__item steps__item--inactive"},"B",-1),V=Object(n["f"])("div",{class:"steps__item steps__item--inactive"},"C",-1),X=Object(n["f"])("div",{class:"steps__right"},[Object(n["f"])("h3",null,"执行"),Object(n["f"])("p",null,"对已经执行了平移动画对元素解除平移量，并设置动画时长，曲线等，执行动画。"),Object(n["f"])("h3",null,"元素 A 开始 -> 结束"),Object(n["f"])("p",null,"transition: all 750ms ease-in"),Object(n["f"])("p",null,"transform: translate(0, 0)")],-1);Object(n["q"])();var E=x((function(t,e,a,c,r,s){return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["f"])("div",w,[Object(n["f"])("button",{onClick:e[1]||(e[1]=function(){return c.handlePre&&c.handlePre.apply(c,arguments)})},"上一步"),Object(n["f"])("button",{onClick:e[2]||(e[2]=function(){return c.handleNext&&c.handleNext.apply(c,arguments)})},"下一步")]),Object(n["f"])("div",P,[Object(n["f"])("div",A,[B,Object(n["f"])("div",S,[M,Object(n["f"])("div",z,[Object(n["f"])("div",I,"A",512),L,F,R]),D]),Object(n["f"])("div",Y,[q,Object(n["f"])("div",N,[Object(n["f"])("div",T,"A",512),J,$,V]),X])],512)])],64)})),G={name:"FlipStep",setup:function(){var t=Object(n["u"])(),e=Object(n["u"])(),a=Object(n["u"])(),c=Object(n["u"])(0),r=function(){0!==c.value&&(c.value-=1)},s=function(){3!==c.value&&(c.value+=1)};return Object(n["B"])(c,(function(e){t.value.animate([{transform:"translateX(".concat(-85*e,"%)")}],{duration:750,easing:"cubic-bezier(0.4, 0, 0.2, 1)",iterations:1,fill:"forwards"})})),Object(n["n"])((function(){e.value.animate([{transform:"translateY(0)"},{transform:"translateY(-175px)"}],{duration:1750,easing:"cubic-bezier(0.4, 0, 0.2, 1)",iterations:1/0}),a.value.animate([{transform:"translateY(-175px)"},{transform:"translateY(0)"}],{duration:1750,easing:"cubic-bezier(0.4, 0, 0.2, 1)",iterations:1/0})})),{count:c,step:t,invert:e,play:a,handlePre:r,handleNext:s}}};a("f347");G.render=E,G.__scopeId="data-v-6430ca13";var H=G,K=Object(d["a"])({history:Object(d["b"])(),routes:[{path:"/",component:O},{path:"/panel",component:C},{path:"/step",component:H}]}),Q=K,U=(a("f5df1"),Object(n["c"])(o));U.use(Q),U.mount("#app")},"9b74":function(t,e,a){"use strict";a("0257")},b9f0:function(t,e,a){"use strict";a("e132")},e132:function(t,e,a){},f347:function(t,e,a){"use strict";a("10f2")}});
//# sourceMappingURL=app.96e1db37.js.map